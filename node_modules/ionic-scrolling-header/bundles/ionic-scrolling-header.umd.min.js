!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("ionic-angular")):"function"==typeof define&&define.amd?define("ionic-scrolling-header",["exports","@angular/core","ionic-angular"],e):e(t["ionic-scrolling-header"]={},t.ng.core,null)}(this,function(t,e,o){"use strict";var i=function(){function t(t,e,o,i){this.el=t,this.renderer=e,this.zone=o,this.plt=i,this.lastScrollTop=0,this.lastHeaderTop=0,this.isStatusBarShowing=!0,this.pauseForBarAnimation=!1,this.pauseForBarDuration=500,this.scrollTop=0,this.contentHeight=0,this.scrollHeight=0,this.scrollChange=0,this.lastTopFloored=0,this.showParallaxFactor=.7,this.hideParallaxFactor=.6*this.showParallaxFactor}return t.prototype.ngAfterViewInit=function(){this.content?this.startBindings():console.error("No content is provided for ionic scroling header!")},t.prototype.startBindings=function(){var e=this;this.content._tabs&&(this.tabbarPlacement=this.content._tabs.tabsPlacement,this.tabbarElement=this.content._tabs._tabbar.nativeElement),this.contentScrollElement=this.content.getScrollElement(),this.resize(),this.zone.runOutsideAngular(function(){e.content.ionScroll.subscribe(function(t){e.onPageScroll(event),e.render(t)})})},t.prototype.ngOnDestroy=function(){},t.prototype.resize=function(){"top"==this.tabbarPlacement?this.headerHeight=this.el.nativeElement.offsetHeight:this.headerHeight=this.el.nativeElement.scrollHeight},t.prototype.render=function(t){var e=this;t.domWrite(function(){e.calculateRender(null)})},Object.defineProperty(t.prototype,"showingHeight",{get:function(){return this.headerHeight-this.lastHeaderTop},enumerable:!0,configurable:!0}),t.prototype.onPageScroll=function(t){this.scrollTop=t.target.scrollTop,this.contentHeight=t.target.clientHeight,this.scrollHeight=t.target.scrollHeight},t.prototype.calculateRender=function(t){var e=this;0<=this.scrollTop&&this.scrollTop!==this.lastScrollTop&&(this.scrollChange=this.scrollTop-this.lastScrollTop,this.lastScrollTop=this.scrollTop,this.pastBottom=this.contentHeight+this.scrollTop>this.scrollHeight,0<this.scrollChange?(this.isStatusBarShowing&&!this.pauseForBarAnimation&&(this.isStatusBarShowing=!1),this.lastHeaderTop+=this.scrollChange*this.hideParallaxFactor,this.lastHeaderTop>=this.headerHeight&&(this.lastHeaderTop=this.headerHeight)):this.scrollChange<0&&!this.pastBottom?(!this.isStatusBarShowing&&40<this.showingHeight&&(this.pauseForBarAnimation||(this.pauseForBarAnimation=!0,this.isStatusBarShowing=!0,setTimeout(function(){e.pauseForBarAnimation=!1},this.pauseForBarDuration))),this.lastHeaderTop+=this.scrollChange*this.showParallaxFactor,this.lastHeaderTop<=0&&(this.lastHeaderTop=0)):console.log("going NOWHERE",this.scrollChange,this.scrollTop),this.lastTopFloored=~~this.lastHeaderTop,this.onTranslate(this.lastTopFloored))},t.prototype.onTranslate=function(t){this.renderer.setStyle(this.el.nativeElement,this.plt.Css.transform,"translate3d(0, "+-t+"px ,0)"),this.renderer.setStyle(this.contentScrollElement,"top",-t+"px"),"top"==this.tabbarPlacement&&this.renderer.setStyle(this.tabbarElement,this.plt.Css.transform,"translate3d(0, "+-t+"px ,0)")},t.decorators=[{type:e.Directive,args:[{selector:"[scrollingHeader]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.NgZone},{type:o.Platform}]},t.propDecorators={content:[{type:e.Input,args:["scrollingHeader"]}]},t}(),s=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i]}]}],t}();t.ScrollingHeaderModule=s,t.ScrollingHeaderDirective=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ionic-scrolling-header.umd.min.js.map