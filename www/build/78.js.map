{"version":3,"sources":["../../src/pages/event-confirm-absence/event-confirm-absence.module.ts","../../src/pages/event-confirm-absence/event-confirm-absence.ts"],"names":[],"mappings":"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","file":"78.js","sourcesContent":["import { NgModule,CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EventConfirmAbsencePage } from './event-confirm-absence';\n\n@NgModule({\n  declarations: [\n    EventConfirmAbsencePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EventConfirmAbsencePage),\n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class EventConfirmAbsencePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-confirm-absence/event-confirm-absence.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController,NavParams, LoadingController, ActionSheetController, Platform, ToastController,ViewController,\n  AlertController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Storage } from '@ionic/storage';\nimport { Base64 } from '@ionic-native/base64/ngx';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { AlertDashboardPage } from '../alert-dashboard/alert-dashboard';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\ndeclare var cordova: any;\n@IonicPage()\n@Component({\n  selector: 'page-event-confirm-absence',\n  templateUrl: 'event-confirm-absence.html',\n})\nexport class EventConfirmAbsencePage {\n  private certificateImage: string = '';\n  public randomNumber: string = '';\n  UpcomingSingleEvent:any;\n  PersonData:any;\n  PersonDetails:any;\n  AttendanceApproveOption:any;\n  SelectReason:any='';\n  comment:any='';\n  reasonList:any=[];\n  Data:any={};\n  MedicalCertificate:any='';\n  MedicalCertificatePrev:any='';\n  \n  constructor(public navCtrl: NavController, public navParams: NavParams,private http: HttpClient,\n    public storage: Storage,private base64: Base64,private loadingCtrl: LoadingController,\n    public global: GlobalProvider,public actionSheetCtrl: ActionSheetController,\n    public camera: Camera,public platform: Platform,private file: File,public gFn: GlobalFunctionsProvider,\n    private filePath: FilePath,public toastCtrl: ToastController,private alert: AlertController,public viewCtrl:ViewController,public global_api:GlobalApiProvider) {\n      this.gFn.hideMenuIcon();\n      this.randomNumber = Math.floor((Math.random() * 1000) + 1).toString();\n  }\n\n  ionViewDidLoad() {\n    this.PersonDetails=JSON.parse(this.navParams.get('personDetails'))\n    console.log(this.PersonDetails)\n    this.storage.get('UpcomingSingleEvent').then((val) => {\n      this.UpcomingSingleEvent = JSON.parse(val)\n      // console.log(val)\n      this.storage.get('loggedInUserData').then((val1) => {\n        // this.PersonData = val1;\n        this.getAttendanceApproveOption()\n\n      })\n    })\n    console.log('ionViewDidLoad EventConfirmAbsencePage');\n  }\n  public presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Select Image Source',\n      buttons: [\n        {\n          text: 'From Gallery',\n          icon: 'cloud-upload',\n          handler: () => {\n            this.takePicture(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        },\n        {\n          text: 'From Camera',\n          icon: 'camera',\n          handler: () => {\n            this.takePicture(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: 'Cancel',\n          icon: 'close-circle',\n          role: 'cancel'\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n  public takePicture(sourceType) {\n    // Create options for the Camera Dialog\n    var options = {\n      quality: 100,\n      sourceType: sourceType,\n      saveToPhotoAlbum: false,\n      correctOrientation: true,\n      destinationType: this.camera.DestinationType.FILE_URI\n    };\n\n    // Get the data of an image\n    this.camera.getPicture(options).then((imagePath) => {\n      // Special handling for Android library\n      if (this.platform.is('android') && sourceType === this.camera.PictureSourceType.PHOTOLIBRARY) {\n        this.filePath.resolveNativePath(imagePath)\n          .then(filePath => {\n            \n            let correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);\n            let currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));\n            \n            this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\n           \n          });\n      } else {\n        var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\n        var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\n        this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\n        \n      }\n    }, (err) => {\n      this.presentToast(err);\n    });\n  }\n\n  // Create a new name for the image\n  private createFileName() {\n    var d = new Date(),\n      n = d.getTime(),\n      newFileName = n + \".jpg\";\n    return newFileName;\n  }\n\n  // Copy the image to a local folder\n  private copyFileToLocalDir(namePath, currentName, newFileName) {\n    this.file.readAsDataURL(namePath, currentName).then(res=>{console.log(res)\n    this.MedicalCertificate=res}  );\n    \n    \n    this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(success => {\n      \n      this.certificateImage = newFileName;\n      this.uploadImage();\n    }, error => {\n      this.presentToast(error);\n    });\n  }\n  private presentToast(text) {\n    let toast = this.toastCtrl.create({\n      message: text,\n      duration: 3000,\n      position: 'top'\n    });\n    toast.present();\n  }\n  uploadImage() {\n    let targetPath = this.pathForImage(this.certificateImage);\n    this.base64.encodeFile(targetPath).then((base64File: string) => {\n     \n      this.uploadPhoto(encodeURIComponent(base64File));\n    }, (err) => {\n      this.presentAlert('Error','Sorry, image upload error.');\n    });\n  }\n\n  uploadPhoto(certificateImage) {\n    this.certificateImage = '';\n    this.randomNumber = Math.floor((Math.random() * 1000) + 1).toString();\n    \n        this.certificateImage = (certificateImage);\n      \n  }\n  public pathForImage(img) {\n    if (img === null) {\n      return '';\n    } else {\n      return cordova.file.dataDirectory + img;\n    }\n  }\n  presentAlert(Title,SubTitle) {\n    let alert = this.alert.create({\n      title: Title,\n      subTitle: SubTitle,\n      buttons: ['Dismiss']\n    });\n    alert.present(alert);\n  }\n  close(){\n    this.navCtrl.pop()\n    this.gFn.showMenuIcon()\n  }\n  getAttendanceApproveOption(){\n    console.log(this.PersonDetails);\n    let Data = new HttpParams()\n        .set('event_id', this.PersonDetails.event_id)\n        .set('person_id', this.PersonDetails.attendInfo.person_id)\n      this.http.post(this.global.APIURL + \"players/getAttendanceApproveOption\", Data,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n\n          this.AttendanceApproveOption=data.GETATTENDANCEAPPROVEOPTION[0]\n          this.comment = data.GETATTENDANCEAPPROVEOPTION[0].parentComment;\n          this.MedicalCertificatePrev = data.GETATTENDANCEAPPROVEOPTION[0].medicalCertificate;\n          for(var key in data.GETATTENDANCEAPPROVEOPTION[0].reasons){\n            if(data.GETATTENDANCEAPPROVEOPTION[0].reasons[key].reason_display==this.AttendanceApproveOption.selected){\n              this.reasonList.unshift(data.GETATTENDANCEAPPROVEOPTION[0].reasons[key])\n              this.Data=data.GETATTENDANCEAPPROVEOPTION[0].reasons[key]\n              this.SelectReason=data.GETATTENDANCEAPPROVEOPTION[0].reasons[key].reason\n            }\n            else{\n              this.reasonList.push(data.GETATTENDANCEAPPROVEOPTION[0].reasons[key])\n            }\n          }\n        })\n  }\n  saveAttendanceWorkflow(){    \n    let Data = new HttpParams()\n        .set('person_id', this.PersonDetails.attendInfo.person_id)\n        .set('attendanceID', this.AttendanceApproveOption.attendanceID)\n        .set('attendanceWorkflowID', this.AttendanceApproveOption.attendanceWorkflowID)\n        .set('parent_comment', this.comment)\n        .set('medical_certificate', this.certificateImage )\n        .set('reason', this.SelectReason)\n        .set('alert_status', this.AttendanceApproveOption.alert_status)\n        \n      this.http.post(this.global.APIURL + \"players/saveAttendanceWorkflow\", Data,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if(data.SUCCESS){\n            this.presentToast('Status Updated')\n            this.navCtrl.pop();\n            this.navCtrl.push(AlertDashboardPage)\n            //this.viewCtrl.dismiss()\n            this.gFn.showMenuIcon();\n          }\n          else{\n            this.presentToast('Data could not be saved')\n            this.navCtrl.pop();\n            this.navCtrl.push(AlertDashboardPage)\n            //this.viewCtrl.dismiss()\n            this.gFn.showMenuIcon();\n          }\n        })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-confirm-absence/event-confirm-absence.ts"],"sourceRoot":""}