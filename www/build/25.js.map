{"version":3,"sources":["../../src/pages/scanning/scanning.module.ts","../../src/pages/scanning/scanning.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ScanningPage } from './scanning';\n\n@NgModule({\n  declarations: [\n    ScanningPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ScanningPage),\n  ],\n})\nexport class ScanningPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scanning/scanning.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController,Events, NavParams,Keyboard, LoadingController, ActionSheetController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Storage } from '@ionic/storage';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n/**\n * Generated class for the ScanningPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-scanning',\n  templateUrl: 'scanning.html',\n})\nexport class ScanningPage {\n\n  passengersList: any = [];\n  VehicleListFilter: any = [];\n  presentCount:any = 0;\n  TotalCount:any = 0;\n  vehiclesId:any='';\n  staffId:any='';\n  removeOptions:any = [];\n  scannedID: any = '';\n  presentStatusId: any = '';\n  getPassengerFilters:any = {};\n  rollcallID:any = '';\n  clientId:any = '';\n\n  constructor(public navCtrl: NavController,public http: HttpClient, public storage: Storage,\n    public navParams: NavParams,public global: GlobalProvider, public gFn: GlobalFunctionsProvider, \n    private events: Events, private loadingCtrl: LoadingController, public actionSheetCtrl: ActionSheetController, private barcodeScanner: BarcodeScanner,public global_api:GlobalApiProvider) {\n      this.passengersList = navParams.get('passengersList');\n      this.VehicleListFilter = navParams.get('VehicleListFilter');\n      this.presentCount = navParams.get('presentCount');\n      this.TotalCount = navParams.get('TotalCount');\n      this.staffId = navParams.get('staffId');\n      this.vehiclesId = navParams.get('vehiclesId');\n      this.removeOptions = navParams.get('removeOptions');\n      this.presentStatusId = navParams.get('presentStatusId');\n      this.rollcallID = navParams.get('rollcallID');\n      this.clientId = navParams.get('clientId');\n      this.gFn.hideMenuIcon();\n      gFn.hideFormAccessoryBar();\n  }\n\n  ionViewDidLoad() {\n    this.getPassengerFilters={\n      isDynamic:'',\n      nameFilter:'',\n      rollcallStatusId:[],\n      staffId:[],\n      vehiclesId:[],\n    };\n    this.getPassengersList().then(y=>{\n      if(y){\n        this.scannedID = '';\n        this.barcodeScanner.scan().then(barcodeData => {\n            //alert('Barcode data'+ JSON.stringify(barcodeData));\n            this.scannedID = barcodeData.text;\n            let passengerFound = false;\n            let checkedIn = false;\n            let isPresent = false;\n            let rollcallPersonsId = '';\n            let passengerName = '';\n            for(let key in this.passengersList){\n              if(this.scannedID != '' && (this.passengersList[key].ABF == this.scannedID || this.passengersList[key].person_id == this.scannedID)){\n                passengerFound = true;\n                rollcallPersonsId = this.passengersList[key].rollcallPersonsId;\n                passengerName = this.passengersList[key].firstName + ' ' + this.passengersList[key].lastName;\n                if(this.passengersList[key].isRemove == 1 || this.passengersList[key].isPresent == 1){\n                  checkedIn = true;\n                }\n                if(this.passengersList[key].isPresent == 1){\n                  isPresent = true;\n                }\n                break;\n              }\n            }\n            if(!passengerFound && !barcodeData.cancelled){\n              this.gFn.presentToast('Passenger not found');\n              this.ionViewDidLoad();\n            }\n            if(passengerFound && !checkedIn){\n              this.scannedID = '';\n              this.updatePassengerStatus(rollcallPersonsId);\n            }\n            if(passengerFound && isPresent){\n              this.gFn.presentToast(passengerName+ ' already checked in');\n            }\n            if(barcodeData.cancelled){\n              this.backArrow();\n            }\n         }).catch(err => {\n            this.gFn.presentToast('Scanning problem', 'danger');\n            this.ionViewDidLoad();\n         });\n      }else{\n        this.gFn.presentToast('Data load error');\n        this.backArrow();\n      }\n    });\n  }\n  \n  ionViewDidEnter(){\n    this.gFn.hideFormAccessoryBar();\n  }\n\n  ionViewWillLeave(){\n    this.gFn.hideFormAccessoryBar(true);\n  }\n\n\n  backArrow(){\n    this.navCtrl.pop();\n    this.navParams.get(\"parentPage\").ionViewDidLoad();\n  }\n\n  goToRollcallsPage(){\n    this.navCtrl.pop();\n    this.navCtrl.push('RollcallsPage');\n  }\n \n  getPassengersList(){\n    return new Promise((resolve) => {\n      let loginData = new HttpParams()\n        .set('rollcallId', this.rollcallID)//this.rollcallID,22\n        .set('isDynamic',this.getPassengerFilters.isDynamic)\n        .set('nameFilter',this.getPassengerFilters.nameFilter)\n        .set('rollcallStatusIds',JSON.stringify(this.getPassengerFilters.rollcallStatusId))\n        .set('staffIds',JSON.stringify(this.getPassengerFilters.staffId))\n        .set('vehiclesIds',JSON.stringify(this.getPassengerFilters.vehiclesId))\n        .set('clientId',this.clientId);\n      this.http.post(this.global.APIURL + \"transports/getPassengers\", loginData,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if(data.SUCCESS){\n            this.passengersList = data.GETPASSENGERS;\n            this.presentCount = data.PRESENTCOUNT;\n            this.TotalCount = data.PRESENTCOUNT + data.UNCHECKCOUNT;\n            resolve(true);\n          }else{\n            resolve(false);\n          }\n        }, error => {\n          resolve(false);\n        });\n    })\n  }\n  \n  updatePassengerStatus(rollcallPersonId, rollcallStatusId = ''){\n    let loginData = new HttpParams()\n    .set('rollcallPersonId', rollcallPersonId)\n    .set('staffId',this.staffId)\n    .set('vehiclesId',this.vehiclesId);\n\n    if(rollcallStatusId != ''){\n      loginData = loginData.set('rollcallStatusId', rollcallStatusId);\n    }else{\n      loginData = loginData.set('rollcallStatusId', this.presentStatusId);\n    }\n\n    this.http.post(this.global.APIURL + \"transports/updateRemovePassengerByStaff\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        if(data.UPDATEREMOVEPASSENGERBYSTAFF){\n          this.gFn.presentToast(data.MESSAGE);\n        }else{\n          this.gFn.presentToast(data.MESSAGE);\n        }\n        this.ionViewDidLoad();\n      }, error => {\n      });\n  }\n\n  presentRemoveActionSheet(rollcallPersonId) {\n    let options = [];\n    for(let i=0; i < this.removeOptions.length; i++){\n      options.push({\n        text: this.removeOptions[i].statusName,\n        handler: () => {\n          this.updatePassengerStatus(rollcallPersonId, this.removeOptions[i].rollcallStatusId);\n        }\n      });\n    }\n    options.push(\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n    );\n    let actionSheet = this.actionSheetCtrl.create({\n      buttons: options\n    });\n    actionSheet.present();\n  }\n\n  unscratchPassenger(rollcallPersonId){\n    let loginData = new HttpParams()\n    .set('rollcallPersonId', rollcallPersonId)\n    .set('staffId', this.staffId)\n    .set('vehiclesId', this.vehiclesId);\n\n    this.http.post(this.global.APIURL + \"transports/unscratchByStaff\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        if(data.UNSCRATCHBYSTAFF){\n          this.gFn.presentToast(data.MESSAGE);\n        }else{\n          this.gFn.presentToast(data.MESSAGE);\n        }\n        this.ionViewDidLoad();\n      }, error => {\n      });\n  }\n\n  changeVehicle(vehicleId){\n    this.vehiclesId = vehicleId;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scanning/scanning.ts"],"sourceRoot":""}