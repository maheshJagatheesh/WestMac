{"version":3,"sources":["../../src/pages/survey/survey.module.ts","../../src/pages/survey/survey.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurveyPage } from './survey';\n\n\n@NgModule({\n  declarations: [\n    SurveyPage,\n    \n  ],\n  imports: [\n    IonicPageModule.forChild(SurveyPage),\n  ],\n})\nexport class SurveyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey/survey.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Events, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n@IonicPage()\n@Component({\n  selector: 'page-survey',\n  templateUrl: 'survey.html',\n})\nexport class SurveyPage {\n  PhotoApiUrl: string;\n  personDetail: any;\n  personId:number = 27443; //default value\n  clientId:number = 46; //default value\n  clubDivisionId:number = 1456; //default value\n  surveyId:number = 1; //default value\n  eventId:number = 20; //default value\n  FunctionAccess: any;\n  surveyQuestionList: any = [];\n  surveyAnswerList:any = [];\n  alreadySaved:boolean = true;\n\n\n  constructor(public navCtrl: NavController, public loadingCtrl: LoadingController, public navParams: NavParams,\n    public global: GlobalProvider, private events: Events, public http: HttpClient, public storage: Storage,\n    public modalCtrl: ModalController, public gFn: GlobalFunctionsProvider,public global_api:GlobalApiProvider) {\n    this.gFn.hideMenuIcon();\n    this.PhotoApiUrl = this.global.PROFILEIMAGEURL;\n\n    var surveyId = navParams.get(\"surveyId\");\n    if(surveyId){\n      this.surveyId = parseInt(surveyId);\n    }\n\n    var eventId = navParams.get(\"eventId\");\n    if(eventId){\n      this.eventId = parseInt(eventId);\n    }\n\n    var clientId = navParams.get(\"clientId\");\n    if(clientId){\n      this.clientId = parseInt(clientId);\n    }\n\n    var clubDivisionId = navParams.get(\"clubDivisionId\");\n    if(clubDivisionId){\n      this.clubDivisionId = parseInt(clubDivisionId);\n    }\n\n    var personId = navParams.get(\"personId\");\n    if(personId){\n      this.personId = parseInt(personId);\n    }\n  }\n\n  ionViewDidLoad() {\n    this.storage.get('FunctionAccess').then((val) => {\n      this.FunctionAccess = val;\n    });\n    this.storage.get('loggedInUserData').then((val) => {\n      this.personDetail = val;\n      let loader = this.loadingCtrl.create({});\n      loader.present();\n      loader.dismiss();\n    })\n    this.getsurveyquestion();\n    this.gFn.hideFormAccessoryBar(false);\n  }\n\n  ionViewWillLeave(){\n    this.gFn.showMenuIcon();\n  }\n\n  eventDetails: any = [];\n  surveyData: any = [];\n  saveSurveyQuestionDetails: any = [[], [], []];\n  questionType: any = \"\";\n  surveyForm: any = {};\n  tempArray: any = [];\n\n  getsurveyquestion() {\n    let loginData4 = new HttpParams()\n      .set('surveyId', this.surveyId.toString())\n      .set('eventId', this.eventId.toString())\n      .set('personId', this.personId.toString())\n      .set('clientId', this.clientId.toString())\n      .set('clubDivisionId', this.clubDivisionId.toString());\n    this.http.post(this.global.APIURL + \"players/getSurveyQuestion\", loginData4,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        this.eventDetails = data.EVENTINFO;\n        this.surveyData = data.SURVEYQUESTION;\n        var alreadySaved = false;\n        for (var key in this.surveyData) {\n          this.questionType = this.surveyData[key].QUESTIONTYPE;\n          this.surveyQuestionList.push(this.surveyData[key]);\n          this.saveSurveyQuestionDetails[0].push(this.surveyData[key].SURVEYQUESTIONID);\n          this.saveSurveyQuestionDetails[1].push(this.surveyData[key].SCALEFROM);\n          this.saveSurveyQuestionDetails[2].push(this.surveyData[key].ANSWERVALUE);\n          if(this.surveyData[key].ANSWERVALUE != \"\"){\n            alreadySaved = true;\n          }\n        }\n        this.alreadySaved = alreadySaved;\n        if(alreadySaved){\n          jQuery(\".already-filled-text\").show();\n        }\n      }, error => {\n      });\n  }\n\n  \n  surveyAns: any = [];\n\n\n  rangeChange(index, surveyAns) {\n    this.surveyAnswerList[index] = surveyAns;\n  }\n\n  selectBox(index, surveyAns) {\n    this.surveyAnswerList[index] = surveyAns;\n  }\n\n  textChange(index, surveyAns) {\n    this.surveyAnswerList[index] = surveyAns;\n  }\n\n  yesNoType(index, surveyAns) {\n    if(surveyAns){\n      this.surveyAnswerList[index] = 1;\n    }else{\n      this.surveyAnswerList[index] = 0;\n    }\n    \n    console.log(this.surveyAnswerList[index]);\n  }\n\n\n\n  surveyTextForm: any = {};\n  surveyArray: any = [];\n  surveyArray1: any = [];\n\n  rangeArray: any = [];\n\n  save() {\n    let loader = this.loadingCtrl.create({});\n    loader.present();\n    var answerValues = [];\n    var surveyQuesIds = [];\n\n    for (var key in this.surveyData) {\n      surveyQuesIds.push(this.surveyData[key].SURVEYQUESTIONID);\n      if(typeof this.surveyAnswerList[key] !== \"undefined\"){\n        answerValues.push(this.surveyAnswerList[key]);\n        \n        console.log(this.surveyAnswerList[key]);\n      }\n      else{\n        switch(this.surveyData[key].QUESTIONTYPE){\n          case 0:\n            answerValues.push(this.surveyData[key].SCALEFROM);\n            break;\n          case 1:\n              answerValues.push(this.surveyData[key].OPTIONLIST[0].SURVEYOPTIONID);\n              break;\n          case 2:\n              answerValues.push(\"\");\n              break;\n          case 3:\n              answerValues.push(\"1\");\n              break;\n        }\n      }\n    }\n\n    \n    let data = new HttpParams()\n      .set('surveyId', this.surveyId.toString())\n      .set('eventId', this.eventId.toString())\n      .set('personId', this.personId.toString())\n      .set('clientId', this.clientId.toString())\n      .set('clubDivisionId', this.clubDivisionId.toString())\n      .set('questionIds', JSON.stringify(surveyQuesIds))\n      .set('answerValues', JSON.stringify(answerValues));\n\n    this.http.post(this.global.APIURL + \"players/saveSurvey\", data,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        this.alreadySaved = true;\n        loader.dismiss();\n      }, error => {\n        loader.dismiss();\n      });\n  }\n\n  backArrow() {\n    this.gFn.showMenuIcon();\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey/survey.ts"],"sourceRoot":""}