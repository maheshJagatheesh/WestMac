{"version":3,"sources":["../../src/pages/event-update-player-modal/event-update-player-modal.module.ts","../../src/pages/event-update-player-modal/event-update-player-modal.ts"],"names":[],"mappings":"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","file":"66.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EventUpdatePlayerModalPage } from './event-update-player-modal';\n\n@NgModule({\n  declarations: [\n    EventUpdatePlayerModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EventUpdatePlayerModalPage),\n  ],\n})\nexport class EventUpdatePlayerModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-update-player-modal/event-update-player-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n/**\n * Generated class for the EventUpdatePlayerModalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-event-update-player-modal',\n  templateUrl: 'event-update-player-modal.html',\n})\nexport class EventUpdatePlayerModalPage {\n  playerStats: any;\n  playerInfo: any;\n  eventId: any;\n  isButtonDisabled: boolean = false;\n  btnDisabled: any = \"\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, private view: ViewController, private http: HttpClient, public global: GlobalProvider,public global_api:GlobalApiProvider) {\n  }\n\n  ionViewWillLoad() {\n    const stats = this.navParams.get('stats');\n    const info = this.navParams.get('info');\n    this.eventId = this.navParams.get('event');\n    this.playerStats = stats;\n    this.playerInfo = info;\n  }\n  close() {\n    this.view.dismiss();\n  }\n  onUpdateStats(stat_id, statValue, person_stats_id, increment) {\n    //let loading = this.loadingCtrl.create();\n    //loading.present();\n    this.btnDisabled = \"disabled\";\n    var statVal = statValue;\n    if (increment == 1) {\n      statVal = Number.isInteger(statVal) ? (statVal + 1) : 1;\n      //statVal = parseInt(statValue) + 1;\n    } else if (statValue != 0) {\n      statVal = statValue - 1;\n    }\n    let updateStatsData = new HttpParams()\n      .set('event_id', this.eventId)\n      .set('person_id', this.playerInfo.person)\n      .set('person_stats_id', person_stats_id)\n      .set('stat_val', statVal)\n      .set('stat_id', stat_id)\n      .set('period_id', '0');\n\n    if (Number.isInteger(statVal)) {\n      this.http.post<any>(this.global.APIURL + 'stats/savePlayerStats', updateStatsData,{headers:this.global_api.getHeader()})\n        .subscribe(response => {\n          if (response.SUCCESS) {\n            let index = this.playerStats.findIndex(playerStats => playerStats.stat_id == stat_id);\n            if (increment == 1) {\n              if (Number.isInteger(this.playerStats[index].statValue)) {\n                this.playerStats[index].statValue += 1;\n              } else {\n                this.playerStats[index].statValue = 1;\n              }\n            } else {\n              if (Number.isInteger(this.playerStats[index].statValue)) {\n                this.playerStats[index].statValue -= 1;\n              }\n            }\n            this.btnDisabled = \"\";\n            //loading.dismiss();\n          }\n          else {\n            alert('Sorry no matching result found');\n            this.btnDisabled = \"\";\n            //loading.dismiss();\n          }\n        }, error => {\n          this.btnDisabled = \"\";\n          //loading.dismiss();\n        });\n    }\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/event-update-player-modal/event-update-player-modal.ts"],"sourceRoot":""}