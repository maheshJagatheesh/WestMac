{"version":3,"sources":["../../src/pages/last-rollcall/last-rollcall.module.ts","../../src/pages/last-rollcall/last-rollcall.ts"],"names":[],"mappings":"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","file":"51.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LastRollcallPage } from './last-rollcall';\n\n@NgModule({\n  declarations: [\n    LastRollcallPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LastRollcallPage),\n  ],\n})\nexport class LastRollcallPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/last-rollcall/last-rollcall.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Storage } from '@ionic/storage';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { SpeechRecognition } from '@ionic-native/speech-recognition/ngx';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n@IonicPage()\n@Component({\n  selector: 'page-last-rollcall',\n  templateUrl: 'last-rollcall.html',\n})\nexport class LastRollcallPage {\n  passengersList:any=[];\n  total:any=0;\n  StaffListFilter:any=[];\n  VehicleListFilter:any=[];\n  StatusListFilter:any=[];\n  SportListFilter:any=[];\n  TeamListFilter:any=[];\n  PersonData:any;\n  getFilterSuccess:any='0'\n  vehiclesId:any='';\n  staffId:any='';\n  passengersListSuccess:any='0'\n  UpcomingSingleEvent:any;\n  getPassengerFilters:any={}\n  loader:any;\n  ShowFilter:boolean=false;\n  EventDetails:any;\n  isFilterEnabled:any=0;\n  vehicleDetails:any;\n  getNameFilter:any='';\n  constructor(public navCtrl: NavController, public navParams: NavParams,public http: HttpClient, public storage: Storage,\n    public global: GlobalProvider, public gFn: GlobalFunctionsProvider, public loadingCtrl:LoadingController, public speechRecognition: SpeechRecognition,public global_api:GlobalApiProvider) {\n      this.vehicleDetails=navParams.get('detail')\n      console.log(this.vehicleDetails)\n     \n      \n  }\n\n  ionViewDidLoad() {\n    this.getPassengerFilters={\n      isDynamic:'',\n      nameFilter:'',\n      sportId:[],\n      teamId:[],\n      rollcallStatusId:[],\n      staffId:[],\n      vehiclesId:[],\n    }\n   \n    console.log('ionViewDidLoad LastRollcallPage');\n    this.storage.get('EventDetails').then((val)=>{\n      this.EventDetails = val[0];\n   \n      this.storage.get('UpcomingSingleEvent').then((val) => {\n        this.UpcomingSingleEvent = JSON.parse(val);\n        this.storage.get('loggedInUserData').then((val1) => {\n          this.PersonData = val1;\n          \n          this.getFiltersList()\n          this.loader = this.loadingCtrl.create({});\n          this.loader.present();\n          this.getPassengersList().then(y=>{\n            this.loader.dismiss();\n            // this.isUpdating = false;\n          });\n        })\n      })\n    })\n    \n  }\n  getPassengersList(){\n    return new Promise((resolve) => {\n      let loginData = new HttpParams()\n        .set('transportVehicleId',this.vehicleDetails.vehiclesId)\n        .set('nameFilter',this.getPassengerFilters.nameFilter)\n        .set('sportIds',JSON.stringify(this.getPassengerFilters.sportId))\n        .set('vehiclesIds',JSON.stringify(this.getPassengerFilters.vehiclesId))\n        .set('teamIds',JSON.stringify(this.getPassengerFilters.teamId));\n        \n      this.http.post(this.global.APIURL + \"transports/getPassengerByBus\", loginData,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if(data.SUCCESS){\n            this.passengersList=data.PASSENGERLIST\n            this.total=data.TOTALPASSENGER\n            resolve(true);\n          }\n          else{\n           \n            resolve(false);\n          }\n        }, error => {\n         \n          resolve(false)\n        });\n    })\n  }\n  getFiltersList(){\n    return new Promise((resolve) => {\n      let Data = new HttpParams()\n        .set('transportId', this.EventDetails.transportId)\n        .set('clientId',this.PersonData.CLIENT_ID);\n      this.http.post(this.global.APIURL + \"transports/getFilterList\", Data,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if(data.SUCCESS){\n            this.StaffListFilter=data.STAFFLIST;\n            this.VehicleListFilter=data.VEHICLELIST;\n            this.StatusListFilter=data.STATUSLIST;\n            this.SportListFilter=data.SPORTLIST;\n            this.TeamListFilter=data.TEAMLIST;\n            if(this.StaffListFilter.length>0 || this.VehicleListFilter.length>0 || this.StatusListFilter.length>0){\n              this.getFilterSuccess='1' //Success true and any filter found\n              // console.log('data.STATUSLIST.length',this.StatusListFilter.length)\n            }\n            else{\n              this.getFilterSuccess='2' //Success false or no filter found\n            }\n            if(this.VehicleListFilter.length && this.vehiclesId == ''){\n              this.vehiclesId = this.VehicleListFilter[0].vehiclesId;\n            }\n            if(this.StaffListFilter.length){\n              for(let i=0; i < this.StaffListFilter.length; i++){\n                if(this.PersonData.PERSON_ID == this.StaffListFilter[i].person_id){\n                  this.staffId = this.StaffListFilter[i].staff_id;\n                }\n              }\n            }\n          }\n          else{\n            this.getFilterSuccess='2' //Success false or no filter found\n          }\n          resolve(true);\n        }, error => {\n          this.getFilterSuccess='3' // connection or data issue\n        });\n    })\n  }\n  listen()\n  {\n    this.speechRecognition.isRecognitionAvailable()\n    .then((available: boolean) => {\n      if(available){\n        // Check permission\n        this.speechRecognition.hasPermission()\n          .then((hasPermission: boolean) => {\n              if(hasPermission){\n                this.gFn.presentToast('Listening...');\n                this.speechRecognition.startListening()\n                  .subscribe(\n                    (matches: Array<string>) => {\n                      console.log(matches);\n                      // $(\"page-rollcalls-players #srch-term\").blur();\n                      // $(\"page-rollcalls-players #srch-term\").val(matches[0]).focus();\n                      this.getNameFilter=matches[0]\n                      this.SearchFilter('nameFilter',matches[0]);\n                    },\n                    (onerror) => console.log('error:', onerror)\n                  );\n                  setTimeout(() => {\n                    // Stop the recognition process (iOS only)\n                    this.speechRecognition.stopListening();\n                  }, 5000);\n              }else{\n                // Request permissions\n                this.speechRecognition.requestPermission()\n                  .then(\n                    () => {\n                      this.gFn.presentToast('Request Granted');\n                      this.gFn.presentToast('Listening...');\n                      this.speechRecognition.startListening()\n                        .subscribe(\n                          (matches: Array<string>) => {\n                            console.log(matches);\n                            // $(\"page-rollcalls-players #srch-term\").blur();\n                            // $(\"page-rollcalls-players #srch-term\").val(matches[0]).focus();\n                              this.getNameFilter=matches[0]\n                             this.SearchFilter('nameFilter',matches[0]);\n\n                          },\n                          (onerror) => console.log('error:', onerror)\n                        );\n                        setTimeout(() => {\n                          // Stop the recognition process (iOS only)\n                          this.speechRecognition.stopListening();\n                        }, 5000);\n                    },\n                    () => this.gFn.presentToast('Request Denied')\n                  )\n              }\n            }\n          )\n      }else{\n        this.gFn.presentToast('Speech recognition not available');\n      }\n    });\n  }\n  showFilter(ShowFilter){\n    \n    if(this.getFilterSuccess=='1'){\n      if(ShowFilter){\n        $('.filterImage').css('transform','rotate(0deg)')\n        this.ShowFilter=false\n      }\n      else{\n        $('.filterImage').css('transform','rotate(180deg)')\n        this.ShowFilter=true\n      }\n\n    }\n    else if(this.getFilterSuccess=='2'){\n      this.gFn.presentToast('Filters not found')\n\n    }\n    else{\n      this.gFn.presentToast('Data Issue or Connection Issue found')\n    }\n  }\n  assignFilters(key,value,event){\n    \n    if($(event.target).hasClass('checked')){\n      $(event.target).removeClass('checked')\n    }\n    else{\n      $(event.target).addClass('checked')\n    }\n    \n    if(this.getPassengerFilters[key].indexOf(value)==-1){\n      this.getPassengerFilters[key].push(value);\n      this.isFilterEnabled++;\n    }\n    else{\n      var index=this.getPassengerFilters[key].indexOf(value)\n      this.getPassengerFilters[key].splice(index,1)\n      this.isFilterEnabled--;\n    }\n    this.getPassengersList()\n  }\n  SearchFilter(key,value){\n    if(this.getPassengerFilters[key]==value){\n      this.getPassengerFilters[key]=''\n      this.isFilterEnabled--;\n      console.log(this.isFilterEnabled)\n    }\n    else{\n      this.isFilterEnabled++;\n      console.log(this.isFilterEnabled)\n      this.getPassengerFilters[key]=value;\n    }\n    if(value==''){\n      this.isFilterEnabled=0\n    }\n    this.getPassengersList()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/last-rollcall/last-rollcall.ts"],"sourceRoot":""}