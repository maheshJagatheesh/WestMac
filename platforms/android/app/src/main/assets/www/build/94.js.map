{"version":3,"sources":["../../src/pages/additional-passenger/additional-passenger.module.ts","../../src/pages/additional-passenger/additional-passenger.ts"],"names":[],"mappings":"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","file":"94.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdditionalPassengerPage } from './additional-passenger';\n\n@NgModule({\n  declarations: [\n    AdditionalPassengerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdditionalPassengerPage),\n  ],\n})\nexport class AdditionalPassengerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/additional-passenger/additional-passenger.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { Storage } from '@ionic/storage';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n/**\n * Generated class for the AdditionalPassengerPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-additional-passenger',\n  templateUrl: 'additional-passenger.html',\n})\nexport class AdditionalPassengerPage {\n  passengerLists: any = [];\n  searchData:any[] = [];\n  searchHide:any;\n  searchShow:any = 'none';\n  transportId: any;\n  Person_id: any;\n\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public global: GlobalProvider,\n    private loadingCtrl: LoadingController,\n    public gFn: GlobalFunctionsProvider,\n    public storage: Storage,\n    public http: HttpClient,public global_api: GlobalApiProvider) {\n      this.transportId = navParams.get('transportId');\n\n      this.storage.get('loggedInUserData').then((val) => {\n        this.Person_id = val.PERSON_ID;\n      })\n\n      this.getAdditionalPassengerList();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AdditionalPassengerPage');\n  }\n\n  getAdditionalPassengerList(){\n    let loginData = new HttpParams()\n        .set('transportId',this.transportId)\n        .set('searchVal','');\n        let loading = this.loadingCtrl.create();\n        loading.present();\n        this.http.post<any>(this.global.APIURL + \"transports/getAdditionalPassengerList\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe(response => {\n          loading.dismiss();\n          if(response.SUCCESS){\n            let passengerList = response.ADDITIONALPASSENGER;\n            for(var key in passengerList){\n              this.passengerLists.push(passengerList[key]);\n            }\n          }\n    \n        }, error => {\n          loading.dismiss();\n        });\n  }\n\n  goBack() {\n    this.navCtrl.pop();\n  }\n\n  clearsearch(){\n    if($(\"#search\").val() == \"Search\"){\n      $(\"#search\").val('');\n    }\n  }\n\n  /*For search start*/\n  search(event){\n    this.searchData.length = 0;\n    let searchVal:any = $(\"#search\").val();\n\n    let loginData = new HttpParams()\n        .set('transportId',this.transportId)\n        .set('searchVal',searchVal);\n        this.http.post<any>(this.global.APIURL + \"transports/getAdditionalPassengerList\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe(response => {\n          if(response.SUCCESS){\n            let passengerList = response.ADDITIONALPASSENGER;\n            for(var key in passengerList){\n            this.searchData.push(passengerList[key]);\n            }\n            this.searchHide = 'none';\n          this.searchShow = '';\n          }\n        }, error => {\n        });\n  }\n   /*search End*/\n\n   saveAdditionalPassenger(){\n     let additionalPassengerId = [];\n    $('.well.select-card.savedAddPassenger.active').each( function(){\n      if($(this).attr('data-id')){\n        additionalPassengerId.push($(this).attr('data-id'));\n      }\n    });\n    console.log(additionalPassengerId);\n    if(additionalPassengerId.length > 0) {\n      let loader = this.loadingCtrl.create({});\n      loader.present();\n      let loginData = new HttpParams()\n          .set('transportId', this.transportId)\n          .set('personIds', JSON.stringify(additionalPassengerId))\n          .set('updatedBy', this.Person_id);\n\n      this.http.post<any>(this.global.APIURL + \"transports/saveAdditionalPassenger\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe(response => {\n          loader.dismiss();\n          if(response.SUCCESS){\n            this.navCtrl.push('RollcallsPage');\n          }\n        }, error => {\n          loader.dismiss();\n        });\n    }else{\n      this.gFn.presentToast('Please select a passenger');\n    }\n   }\n\n   selectadditionalPassenger(addPassenger){\n    addPassenger.active = !addPassenger.active;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/additional-passenger/additional-passenger.ts"],"sourceRoot":""}