{"version":3,"sources":["../../src/pages/injured-list/injured-list.module.ts","../../src/pages/injured-list/injured-list.ts"],"names":[],"mappings":"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","file":"54.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InjuredListPage } from './injured-list';\n\n@NgModule({\n  declarations: [\n    InjuredListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InjuredListPage),\n  ],\n})\nexport class InjuredListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/injured-list/injured-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController,LoadingController, ToastController, Platform } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { Storage } from '@ionic/storage';\n\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n@IonicPage()\n@Component({\n  selector: 'page-injured-list',\n  templateUrl: 'injured-list.html',\n})\nexport class InjuredListPage {\n  UpcomingSingleEvent:any;\n  eventAttend:any;\n  PersonData: any;\n  FunctionAccess:any;\n  PhotoApiUrl:any;\n  ShowSeverityPage:boolean=false;\n  medicalInfo: boolean=false;\n  seasonId: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public toastCtrl:ToastController,\n    public modalCtrl: ModalController,public global: GlobalProvider,public statusBar: StatusBar,\n    private http: HttpClient,private storage: Storage,public loadingCtrl: LoadingController, public gFn:GlobalFunctionsProvider,\n    platform:Platform,public global_api :GlobalApiProvider) {\n      this.gFn.hideMenuIcon()\n      this.PhotoApiUrl = this.global.PROFILEIMAGEURL\n      // console.log(this.PhotoApiUrl )\n\n      platform.registerBackButtonAction(() => { \n        this.backArrow();\n      }); \n  }\n\n  ionViewDidLoad() {\n    this.statusBar.hide();\n    this.storage.get('FunctionAccess').then((val)=>{\n      this.FunctionAccess=val;\n    })\n    this.storage.get('UpcomingSingleEvent').then((val)=>{\n      this.UpcomingSingleEvent=JSON.parse(val)\n      this.seasonId =  this.navParams.get('season_id');\n      this.storage.get('loggedInUserData').then((val) => {\n        this.PersonData = val;\n        let loader = this.loadingCtrl.create({});\n        loader.present();\n        this.AllPlayersLoad().then((z) => {\n          if (z) {\n            loader.dismiss();\n          }\n          else{\n            loader.dismiss();\n            alert(\"No Data Found\")\n            this.navCtrl.pop()\n\n          }\n        })\n\n      })\n    })\n  }\n  ionViewDidLeave(){\n    this.statusBar.show();\n    this.gFn.showMenuIcon();\n  }\n  \n  incidentReport(injured_person_id) {\n    if(this.ShowSeverityPage==false && !this.medicalInfo){\n      if(this.PersonData.PERSON_ID==injured_person_id || this.FunctionAccess.event_Injury=='yes'){\n        this.navCtrl.push('InjuryIncidentReportPage',{'injured_person_id':injured_person_id.person_id,'incident_id':injured_person_id.incident_id,'season_id':this.seasonId})\n        \n      }\n    }\n    else{\n      this.ShowSeverityPage=false\n    }\n    \n  }\n  backArrow() {\n    //this.navCtrl.push('EventDashboardPage');\n    this.navCtrl.pop();\n  }\n\n  AllPlayersLoad(){\n    return new Promise((resolve) => {\n        let selectedTeam = this.PersonData.SELECTEDTEAM;\n        if(this.UpcomingSingleEvent.event_type_id == 2 && this.UpcomingSingleEvent.teamid){\n          selectedTeam = this.UpcomingSingleEvent.teamid;\n        }else if(this.UpcomingSingleEvent.event_type_id == 1){\n          if(this.UpcomingSingleEvent.homeclubid == this.PersonData.CLUB_ID){\n            selectedTeam = this.UpcomingSingleEvent.hometeam;\n          }else{\n            selectedTeam = this.UpcomingSingleEvent.awayteam;\n          }\n        }\n        let PlayersData = new HttpParams()\n          .set('event_id', this.UpcomingSingleEvent.event_id)\n          .set('client_id', this.UpcomingSingleEvent.client_id)\n          .set('selectedTeam', selectedTeam)\n\n        this.http.post(this.global.APIURL + \"players/AllLoadPlayersAttendance\", PlayersData,{headers:this.global_api.getHeader()})\n          .subscribe((data: any) => {\n            if(data.SUCCESS){\n              var dataLength=0;\n              for(var key in data.DATA){\n                for(var key in data.DATA[key]){\n                  dataLength=1;\n                }\n              }\n              if(dataLength==1){\n                this.eventAttend=data.DATA\n                resolve(true);\n              }\n              else{\n                resolve(false);\n              }\n            }\n            else{\n              resolve(false);\n            }\n          }, error => {\n            resolve(false);\n          });\n        })\n  }\n  DisplaySeverityDetails(playerAilments){\n    this.ShowSeverityPage=true;\n    if(playerAilments){\n      let SeverityModal = this.modalCtrl.create('SeverityDetailsModalPage', { playerAilments: playerAilments });\n      SeverityModal.present();\n\n    }\n    else{\n      this.presentToast('No Details found')\n    }\n  }\n  MedicineInformation(data){\n    this.medicalInfo=true;\n\t\tlet MedicineInfo = this.modalCtrl.create('MedicineInfoPage', {values:data});\n    MedicineInfo.present();\n    MedicineInfo.onDidDismiss(()=>{\n      this.medicalInfo=false;\n    })\n\t}\n  private presentToast(text) {\n    let toast = this.toastCtrl.create({\n      message: text,\n      duration: 3000,\n      position: 'top'\n    });\n    toast.present();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/injured-list/injured-list.ts"],"sourceRoot":""}