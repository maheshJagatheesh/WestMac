{"version":3,"sources":["../../src/pages/choose-players/choose-players.module.ts","../../src/pages/choose-players/choose-players.ts"],"names":[],"mappings":"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","file":"87.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChoosePlayersPage } from './choose-players';\n\n@NgModule({\n  declarations: [\n    ChoosePlayersPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChoosePlayersPage),\n  ],\n})\nexport class ChoosePlayersPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/choose-players/choose-players.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Events,ModalController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { Storage } from '@ionic/storage';\n\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-choose-players',\n  templateUrl: 'choose-players.html',\n})\nexport class ChoosePlayersPage{\n  TeamData: any;\n  PlayerList: any = [];\n  PhotoApiUrl: string;\n  PlayerIdArray: any = [];\n  person_id: any;\n  PersonData: any;\n  UpcomingSingleEvent:any;\n  FunctionAccess:any;\n  medicalInfo: boolean=false;\n  ShowSeverityPage: boolean=false;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private events: Events, public loadingCtrl: LoadingController, private storage: Storage, public global: GlobalProvider,\n    public http: HttpClient,public statusBar: StatusBar,public gFn:GlobalFunctionsProvider,public modalCtrl:ModalController,public global_api :GlobalApiProvider) {\n    this.gFn.hideMenuIcon();\n    this.TeamData = navParams.get('TeamData');\n    this.PhotoApiUrl = this.global.PROFILEIMAGEURL;\n    this.storage.get('FunctionAccess').then((val) => {\n      this.FunctionAccess = val;\n    })\n  }\n\n  ionViewDidLoad() {\n    this.statusBar.hide();\n    if (this.navParams.get('UpcomingSingleEvent')) {\n      this.UpcomingSingleEvent = JSON.parse(this.navParams.get('UpcomingSingleEvent'))\n      \n    }\n    else{\n      this.storage.get('UpcomingSingleEvent').then((val) => {\n        this.UpcomingSingleEvent = JSON.parse(val)\n        \n      })\n    }\n    // this.storage.get('UpcomingSingleEvent').then((val)=>{\n    //   this.UpcomingSingleEvent=JSON.parse(val)\n      \n    // })\n    this.storage.get('loggedInUserData').then((val) => {\n      this.PersonData = val\n\n    })\n    let loader = this.loadingCtrl.create({});\n    loader.present();\n    setTimeout(() => {\n\n      this.choosePlayersList().then((x) => {\n        if (x) {\n          loader.dismiss();\n        }\n        else if(!x){\n          loader.dismiss();\n          this.navCtrl.pop()\n          alert('No Data Found')\n          \n        }\n      });\n\n    }, 500);\n\n  }\n  ionViewDidLeave(){\n    this.statusBar.show();\n  }\n  \n  backArrow() {\n    this.navCtrl.pop();\n  }\n  choosePlayersList() {\n    return new Promise((resolve) => {\n      let PlayersList = new HttpParams()\n        .set('club_division_id', this.TeamData.lender_id)\n        .set('client_id', this.TeamData.client_id)\n        .set('person_club_division_id', this.PersonData.CLUB_DIVISION_ID)\n        .set('person_client_id', this.PersonData.CLIENT_ID);\n\n      this.http.post(this.global.APIURL + \"players/getTeamPlayers\", PlayersList,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if(data.SUCCESS && data.GETTEAMPLAYERS!=''){\n            let PlayerListData = this.events.publish('json:query', data.GETTEAMPLAYERS);\n            for (var key in PlayerListData[0]) {\n              this.PlayerList.push(PlayerListData[0][key])\n            }\n            resolve(true);\n          }\n          else{\n            resolve(false);\n          }\n          \n        }, error => {\n          resolve(false);\n        });\n    })\n  }\n\n  selectPlayers(person_id, selectPlayerCard, selectFontColor) {\n    if(!this.medicalInfo && !this.ShowSeverityPage){\n      if (!this.PlayerIdArray.includes(person_id)) {\n        selectPlayerCard.style.backgroundColor = '#2BBFF0';\n        selectFontColor.style.color = '#ffffff';\n        this.PlayerIdArray.push(person_id)\n      }\n      else if(this.PlayerIdArray.includes(person_id)){\n        selectPlayerCard.style.backgroundColor = '#ffffff';\n        selectFontColor.style.color = '#15233C';\n        this.PlayerIdArray.splice(this.PlayerIdArray.indexOf(person_id), 1);\n      }\n    }\n    \n  }\n\n  \n  borrow() {\n    let PlayersData = new HttpParams()\n      .set('event_id', this.UpcomingSingleEvent.event_id)\n      .set('lending_team_id', this.TeamData.lender_id)\n      .set('lending_club_id', this.TeamData.club_id)\n      .set('lending_division_id', this.TeamData.lender_id)\n      .set('lending_client_id', this.TeamData.client_id)\n      .set('selectedTeam', this.PersonData.SELECTEDTEAM)\n      .set('person_ids', JSON.stringify(this.PlayerIdArray));\n\n    this.http.post(this.global.APIURL + \"borrows/saveBorrowingPlayers\", PlayersData,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        this.navCtrl.pop();\n        this.navCtrl.push('BorrowedPlayerPage')\n\n      }, error => {\n      });\n  }\n  DisplaySeverityDetails(playerAilments){\n    this.ShowSeverityPage=true\n    if(playerAilments){\n      let SeverityModal = this.modalCtrl.create('SeverityDetailsModalPage', { playerAilments: playerAilments });\n      SeverityModal.present();\n\n    }\n    else{\n      this.gFn.presentToast('No Details found')\n    }\n  }\n  MedicineInformation(data){\n    this.medicalInfo=true;\n\t\tlet MedicineInfo = this.modalCtrl.create('MedicineInfoPage', {values:data});\n    MedicineInfo.present();\n    MedicineInfo.onDidDismiss(()=>{\n      this.medicalInfo=false;\n    })\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/choose-players/choose-players.ts"],"sourceRoot":""}