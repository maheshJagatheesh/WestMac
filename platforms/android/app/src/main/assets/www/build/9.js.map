{"version":3,"sources":["../../src/pages/transport-add-staff/transport-add-staff.module.ts","../../src/pages/transport-add-staff/transport-add-staff.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TransportAddStaffPage } from './transport-add-staff';\n\n@NgModule({\n  declarations: [\n    TransportAddStaffPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TransportAddStaffPage),\n  ],\n})\nexport class TransportAddStaffPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transport-add-staff/transport-add-staff.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, ToastController } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n/**\n * Generated class for the TransportAddStaffPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-transport-add-staff',\n  templateUrl: 'transport-add-staff.html',\n})\nexport class TransportAddStaffPage {\n\n  client_id: any;\n  selectedTeam: any;\n  event_id: any;\n  createdBy: any;\n  staffList: any = [];\n  transportId: any;\n  removeStaffId: any;\n  removeStaffName: any;\n  isRemove: boolean = false;\n\n  constructor(public navCtrl: NavController,public http: HttpClient, public navParams: NavParams, private viewCtrl: ViewController,\n    public global: GlobalProvider, public gFn: GlobalFunctionsProvider, private loadingCtrl: LoadingController, public toastCtrl:ToastController,public global_api:GlobalApiProvider) {\n    this.client_id = navParams.get('client_id');\n    this.selectedTeam = navParams.get('selectedTeam');\n    this.event_id = navParams.get('event_id');\n    this.createdBy = navParams.get('createdBy');\n    this.transportId = navParams.get('transportId');\n    this.removeStaffId = navParams.get('staffId');\n    this.removeStaffName = navParams.get('staffName');\n    if(this.removeStaffId != '' && this.removeStaffName != ''){\n      this.isRemove = true;\n    }\n  }\n  \n  ionViewDidLoad() {\n    let loader = this.loadingCtrl.create({});\n    loader.present();\n    this.getStaffPlayersList().then(y=>{\n      loader.dismiss();\n    });\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  getStaffPlayersList(){\n    return new Promise((resolve) => {\n      let loginData = new HttpParams()\n          .set('transportId', this.transportId);\n\n        this.http.post(this.global.APIURL + \"transports/getStaffPlayerList\", loginData,{headers:this.global_api.getHeader()})\n          .subscribe((data: any) => {\n            if(data.SUCCESS){\n              this.staffList = data.GETSTAFFPLAYERLIST;\n            }\n            resolve(true);\n          }, error => {\n          });\n      });\n  }\n\n  addStaff(){\n    let person_ids = [];\n    $(\".person_ids:checked\").each(function(){\n      person_ids.push($(this).val());\n    });\n    if(person_ids.length > 0){\n      let loader = this.loadingCtrl.create({});\n      loader.present();\n      let loginData = new HttpParams()\n          .set('transportId', this.transportId)\n          .set('person_ids', JSON.stringify(person_ids))\n          .set('createdBy', this.createdBy);\n\n      this.http.post(this.global.APIURL + \"transports/addStaff\", loginData,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          loader.dismiss();\n          this.close();\n        }, error => {\n        });\n    }else{\n      this.gFn.presentToast('Please select staff');\n    }\n  }\n\n  removeStaff(){\n    let loader = this.loadingCtrl.create({});\n    loader.present();\n    let loginData = new HttpParams()\n      .set('staffId', this.removeStaffId);\n\n    this.http.post(this.global.APIURL + \"transports/removeStaff\", loginData,{headers:this.global_api.getHeader()})\n      .subscribe((data: any) => {\n        if(data.SUCCESS){\n          this.gFn.presentToast(data.MESSAGE);\n        }\n        loader.dismiss();\n        this.close();\n      }, error => {\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transport-add-staff/transport-add-staff.ts"],"sourceRoot":""}