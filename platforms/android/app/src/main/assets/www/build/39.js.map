{"version":3,"sources":["../../src/pages/player-details/player-details.module.ts","../../src/pages/player-details/player-details.ts"],"names":[],"mappings":"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","file":"39.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PlayerDetailsPage } from './player-details';\n\n@NgModule({\n  declarations: [\n    PlayerDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PlayerDetailsPage),\n  ],\n})\nexport class PlayerDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/player-details/player-details.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, LoadingController, ModalController, ToastController, Platform } from 'ionic-angular';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Storage } from '@ionic/storage';\nimport { GlobalProvider } from '../../providers/global/global';\nimport { GlobalFunctionsProvider } from '../../providers/global-functions/global-functions';\nimport { PlayersDashboardPage } from '../players-dashboard/players-dashboard';\nimport { GlobalApiProvider } from '../../providers/global-api/global-api';\n\n/**\n * Generated class for the PlayerDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-player-details',\n  templateUrl: 'player-details.html',\n})\nexport class PlayerDetailsPage{\n  private playerID: string = '';\n  private phone: string = '';\n  private emergencyContacts: any;\n  private email: string = '';\n  public active: string = '';\n  private playerDetails: any[] = [];\n  public medicalReportGenerated:boolean = false;\n  FunctionAccess:any;\n  PersonData:any;\n  emergencyPhoneExists: boolean = false;\n  OperooStatus = 0;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n     public storage: Storage, public events: Events, private http: HttpClient,\n     private loadingCtrl: LoadingController, public global: GlobalProvider,\n     private modalCtrl: ModalController, private toastCtrl: ToastController, public gFn:GlobalFunctionsProvider, public plt:Platform,public global_api:GlobalApiProvider) {\n\t\t\tplt.ready().then(()=>{\n\t\t\t  plt.registerBackButtonAction(()=>{\n\t\t\t\t  this.goBack();\n\t\t\t  });\n\t\t\t});\n    \n    this.storage.get('FunctionAccess').then((val)=>{\n      this.FunctionAccess=val;\n    })\n    this.storage.get('loggedInUserData').then((val) => {\n      this.PersonData=val;\n      this.getOperooStatus();\n    })\n\n    this.playerID = navParams.get('playerID');\n\n    this.getPlayerDetails();\n    \n  }\n\n  getOperooStatus() {\n    return new Promise((resolve) => {\n      let Data = new HttpParams()\n        .set('clubid', this.PersonData.CLUB_ID)          \n\n      this.http.post(this.global.APIURL + \"incidents/checkUsingOperoo\", Data,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          console.log('operoo status data', data)\n          if(data && data.SUCCESS){\n            // this.OperooStatus = 0;\n            this.OperooStatus = data.USE_OPEROO;\n          }\n          resolve(true);\n        }, error => {\n\n        });\n    })\n  }\n\n  getOperooData(playerData) {\n    return new Promise((resolve) => {\n      let Data = new HttpParams()\n        .set('person_id', playerData.person_id)\n        .set('club_id', this.PersonData.CLUB_ID)          \n\n      this.http.post(this.global.APIURL + \"users/getOperooProfile\", Data,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          resolve(data);\n        }, error => {\n\n        });\n    })\n\n  }\n\n  getPlayerDetails() {\n    let loading = this.loadingCtrl.create();\n    loading.present();\n    let data = new HttpParams()\n      .set('person_id', this.playerID);\n    this.http.post<any>(this.global.APIURL + 'players/getPersonDetails', data,{headers:this.global_api.getHeader()})\n      .subscribe(response => {\n        loading.dismiss();\n        if (response.SUCCESS) {\n          this.playerDetails = response.GETPERSONDETAILS;\n          this.phone = this.playerDetails[0].phone_mobile;\n          this.email = this.playerDetails[0].email_address;\n          this.emergencyContacts = this.playerDetails[0].emergency_contacts;\n          for(let key in this.emergencyContacts){\n            if(this.emergencyContacts[key].phone_mobile.length > 0){\n              this.emergencyPhoneExists = true;\n              break;\n            }\n          }\n\n\n          this.getMedicalHistory().then((x) => {\n            if(x){\n              this.medicalReportGenerated = true;\n            }\n          });\n        }\n      }, error => {\n        loading.dismiss();\n      });\n  }\n\n  showToast(message, duration = 2000, position = \"bottom\") {\n    duration = duration || 2000;\n    position = position || \"bottom\";\n    const toast = this.toastCtrl.create({\n      message: message,\n      duration: duration,\n      position: position\n    });\n    toast.present();\n  }\n\n  showSMSModal() {\n    this.active = 'sms';\n    setTimeout(() => {\n      this.active = '';\n      if (this.phone.length == 0) {\n        this.showToast('Phone number not set');\n      } else {\n        let smsModal = this.modalCtrl.create(\n          'SmsModalPage',\n          { phone: this.phone },\n          {\n            enableBackdropDismiss: true,\n            showBackdrop: true\n          }\n        );\n        smsModal.present();\n      }\n    }, 300);\n  }\n\n  showCallModal(emergency) {\n    this.active = emergency ? 'emergencyPhone' : 'phone';\n    setTimeout(() => {\n      this.active = '';\n      if ((!emergency && this.playerDetails[0].phone_mobile == 0) || (emergency && !this.emergencyPhoneExists)) {\n        this.showToast('Phone number not found.');\n      } else {\n        this.phone = emergency ? '' : this.playerDetails[0].phone_mobile;\n        let callModal = this.modalCtrl.create(\n          'CallModalPage',\n          { phone: this.phone, emergency: emergency, emergencyContacts: this.emergencyContacts },\n          {\n            enableBackdropDismiss: true,\n            showBackdrop: true\n          }\n        );\n        callModal.present();\n      }\n    }, 300);\n  }\n\n  showEmailModal() {\n    this.active = 'email';\n    setTimeout(() => {\n      this.active = '';\n      if (this.email.length == 0) {\n        this.showToast('Email not set');\n      } else {\n        let emailModal = this.modalCtrl.create(\n          'EmailModalPage',\n          { email: this.email },\n          {\n            enableBackdropDismiss: true,\n            showBackdrop: true\n          }\n        );\n        emailModal.present();\n      }\n    }, 300);\n  }\n\n  coachingReport(){\n    this.navCtrl.push('PlayerCoachingReportPage', {playerDetails: this.playerDetails});\n  }\n\n  getMedicalHistory() {\n    return new Promise((resolve) => {\n      let PlayersData = new HttpParams()\n        .set('person_id', this.playerDetails[0]['person_id']);\n\n\n      this.http.post(this.global.APIURL + \"players/getMedicalHistoryDetails\", PlayersData,{headers:this.global_api.getHeader()})\n        .subscribe((data: any) => {\n          if (data.GETMEDICALHISTORYDETAILS) {\n            var medicalHistoryDetails = this.events.publish('json:query', data.GETMEDICALHISTORYDETAILS)[0][0];\n            this.playerDetails[0]['medical_history'] = medicalHistoryDetails;\n          }\n          resolve(true);\n        }, error => {\n          console.log(error);\n          resolve(false);\n        });\n\n\n    });\n  }\n\n  medicalRecords(){    \n      console.log('playerdetails', this.playerDetails,\"this.OperooStatus\",this.OperooStatus)\n      if(this.OperooStatus == 1){\n        this.playerDetails[0].operooEnabled = true;\n        this.getOperooData(this.playerDetails[0]).then((data:any) => {\n          console.log('operoodata',data);\n          if(data && data.SUCCESS){\n            this.playerDetails[0].operooData = data.OPEROOINFO;\n            if (this.playerDetails[0]) {\n              this.navCtrl.push('PlayerMedicalRecordsPage', {playerDetails: this.playerDetails});        \n            }\n            else {\n              alert(\"No details found\");\n            }\n          }\n        })\n      } else {\n        if(this.medicalReportGenerated){\n          this.playerDetails[0].operooEnabled = false;\n          this.navCtrl.push('PlayerMedicalRecordsPage', {playerDetails: this.playerDetails});\n        } else {          \n            alert(\"Medical report generation in progress, please wait\");\n          }\n        }\n  }\n\n  viewChat(){\n    const chatInfo = {\n      from : 1,\n      to : 10,\n      person_id : this.PersonData.PERSON_ID,\n      group_id : \"0\",\n      receiver_name : this.playerDetails[0].first_name,\n      receiver_last_name : this.playerDetails[0].last_name,\n      receiver_id : this.playerDetails[0].person_id,\n      selectedTeam : this.PersonData.SELECTEDTEAM,\n      teamid : this.PersonData.TEAM_ID,\n      flag : 1,\n      userPhoto: this.playerDetails[0].photoPath,\n      accFirstName : this.PersonData.FIRST_NAME,\n      accLastName : this.PersonData.LAST_NAME,\n      isBlocked: 0,\n      clientId :this.PersonData.CLIENT_ID\n    };\n    this.navCtrl.push('ChatViewPage',{data: chatInfo})\n  }\n\n  goBack() {\n    this.navCtrl.setRoot(PlayersDashboardPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/player-details/player-details.ts"],"sourceRoot":""}