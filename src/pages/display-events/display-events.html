
<div  class="top-bar clearfix navbar-fixed-top">
    <div class="prev-next pull-right doubleArrow" (click)="goToChooseTeamsPage()">
        <a href="javascript:void(0);" class="next"></a>
        <a href="javascript:void(0);" class="prev"></a>
    </div>
</div>
<ion-header [scrollingHeader]='content' class="top-bar">
        <div class="bg-header navbar-fixed-top ">
                <div class="title fontBold ScrolledUpCard">EVENTS</div>
        </div>
</ion-header>


<ion-content class="bg-gray event cardBottom" > <!--(ionScrollEnd)="logScrollEnd()"-->
    <section class="main">
        <form action="" class="user-form profile cardBottom" *ngIf="monthArray || PastmonthArray">
                <mbsc-form class="CalenderView" style="display: none">
                    <mbsc-form-group>
                        <mbsc-calendar  [options]="myCalendarOptions" [marked]="MarkedEvents" [ngModelOptions]="{standalone: true}" [(ngModel)]="calendarOneWeek" display="inline" weeks="1"></mbsc-calendar>
                    </mbsc-form-group>
                </mbsc-form>
            <div *ngIf="PreviousEvent==true">
                
                <div class="section-more clearfix" *ngIf="PastGameEvents!=''" (click)="seePastGames($event)">
                        <a href="javascript:void(0)" class="see-more pull-right" >SEE PAST EVENTS</a>
                </div>
                
                <div class="emptyclass" *ngFor="let key of PastmonthArray">    
                    <div class="event-card select-events "  style="display:none">
                        <div class="event-blue" (click)="PreviousEventDetails($event)">
                            <h5 class="v-center">{{key[key.length-2]}}</h5>
                        </div>
                        <div *ngFor="let key1 of key; let i=index" >
                            <div class="well select-card " [class.active]="i==0"  *ngIf="i<key.length-2" style="display: none" (click)="gotoEventDashboard(key1)">
                                <div class="row">
                                    <div class="event-date col-xs-3 p-0">
                                        <div class="badge badge-blue">{{key1.weekday}} {{key1.day}}</div>
                                        <p>{{key1.time_started}}</p>
                                    </div>
                                    <div class="event-title col-xs-8 p-0">
                                        <h5>{{key1.event_name}}</h5>
                                        <p>{{key1.ground_name}}</p>
                                    </div>
                                    <div class="event-next col-xs-1 p-0">
                                        <a href="#" class="next-arrow v-center"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                    </div>
                    <div class="section-less clearfix mt-20" style="display:none">
                        <a href="javascript:void(0)" class="see-less pull-right" (click)="SeeLessPastEvents($event)">SEE LESS</a>
                    </div>
                </div>    
            </div>

            <section class="profileFirst heightAuto xs-padding">
                <div class="eventFixed" >
                    <div class="PastEventCard" *ngFor="let key of PastGameEvents">
                        <div class="well eventOption blue PrevClickableDiv"  *ngIf="PreviousEvent==false "  (click)="gotoEventDashboard(key)" swipeAll (swipedown)="onGesture($event)">
                            <h5 class="sub-title SubTitleTop fontBold">PREVIOUS EVENT: {{key.weekday}} {{key.day}} {{key.month}}
                                <div class="down-arrow" style="float: right" (click)="OpenPreviousEvent($event)"><i class="large material-icons">arrow_downward</i></div>
                            </h5>
                            <h5 class="sub-title fontBold">{{key.event_name}}</h5>

                        </div>

                        <div class="well eventOption blue" *ngIf="PreviousEvent==true" (click)="gotoEventDashboard(key)">
                                <h5 class="sub-title fontBold">PREVIOUS EVENT: {{key.weekday}} {{key.day}} {{key.month}}</h5>
                                <h4 class=" fontBold">{{key.event_name}}</h4>
                                <div class="divider mt-20"></div>
                                <div class="add text-left"> <span>{{key.ground_name?key.ground_name:'Undefined Location'}}</span></div>
                                <div class="time text-left">{{key.time_started}}</div>
                                <!-- <div class="divider mt-20"></div>
                                <h5 class="info-item fontBold text-left">ACTION TO GO HERE</h5> -->
                        </div>
                    </div>
                    <!-- <ion-scroll scrollY="true"  style="height: 100%" scrollbar-y="false" zoom="true" (ionScroll)="onScroll('list','head')" style="position: static"> -->

                    <div *ngFor="let key of UpCommingEvents;let i=index">
                        <div class="well eventOption black float-top shadow" [class.mapUpcoming]="UpCommingSeeMore==1" [class.Remove-float-top]="PastGameEvents==''" *ngIf="i<=UpCommingSeeMore" (swipedown)="onGesture($event)"><!--(swipedown)="onGesture($event)"-->
                            <div class="ClickableDiv" (click)="gotoEventDashboard(key)">
                                <div>
                                    <h5 class="sub-title fontBold text-blue">UPCOMING EVENT: {{key.weekday}} {{key.day}} {{key.month}}</h5>
                                    <h4 class="fontBold">{{key.event_name}}</h4>
                                </div>
                                <div class="divider mt-20"></div>
                                <div class="add text-left"> <span>{{key.ground_name?key.ground_name:'Undefined Location'}}</span></div>
                                <div class="time text-left">{{key.time_started}}</div>
                                <div class="divider mt-20"></div>
                            </div>
                            <div class="bookmark text-left no-note" (click)="FunctionAccess.user_adminLevel==4 ? '': gotoCreateNote(i)">
                                <!-- <span ng-bind-html="notesTxt" class="bookmark-info note" *ngIf="key.event_notes!=''">{{CreateNote?CreateNote:key.event_notes}}</span> -->
                                <span class="bookmark-info" *ngIf="FunctionAccess.user_adminLevel!=4">{{(key.event_notes=='')?CreateNote[i]:key.event_notes}}</span>
                                <span class="bookmark-info " *ngIf="FunctionAccess.user_adminLevel==4">{{(key.event_notes=='')?'No Note':key.event_notes}}</span>
                            </div>
                            
                            <div class="row" *ngIf="FunctionAccess && FunctionAccess.event_StillComing=='yes'">
                                <div class="divider mt-20"></div>
                                <div class="col-xs-6 p-0">
                                    <h5 class="info-item  text-left">STILL COMING? 
                                        <span class="reasonCard">{{ReasonSelected}}...</span> </h5>
                                </div>
                                <div class="event-icons col-xs-6 p-0" >
                                    <a href="javascript:void(0)" class="check-icon " [class.RemoveOpacity]="confirmHighlight=='Y'" (click)="StillComingTick($event,yesComingFlag)"><i class="material-icons">check</i></a>
                                    <a href="javascript:void(0)" class="close-icon " [class.RemoveOpacity]="confirmHighlight=='N'" (click)="NotComing($event,notComingFlag)"><i class="material-icons">close</i></a>
                                </div>
                                <ul class="dropdown-menu card-dropdown yesComing" >
                                    <li *ngFor="let key of PlayerAttending" (click)="SinglePlayersAttdStates('tick',key.confirm_reason,key.reason_display,PersonData.PERSON_ID,$event)">
                                         <a href="javascript:void(0)">{{key.reason_display}}</a>
                                    </li>
                                    <!-- <li (click)="SinglePlayersAttdStates('YES', 'YES, LATE',PersonData.PERSON_ID,$event)">
                                        <a href="javascript:void(0)">YES, LATE</a>
                                    </li> -->
                                </ul>
                                <ul class="dropdown-menu card-dropdown noComing" >
                                        <li *ngFor="let key of PlayerNotAttending" (click)="SinglePlayersAttdStates('close',key.confirm_reason,key.reason_display,PersonData.PERSON_ID,$event)">
                                                <a href="javascript:void(0)">{{key.reason_display}}</a>
                                        </li>
                                        
                                    </ul>
                                
                            </div>
                            
                        </div>
                    </div>
                <!-- </ion-scroll> -->
                   
                </div>
                
                <p class="more eventFixed text-blue" (click)="UpCmngSeeMore($event)" *ngIf="UpCommingEvents.length>1 && UpCommingSeeMore==0">
                    <span class="span">SEE MORE</span>
                </p>
                <p class="more eventFixed text-blue" (click)="UpCmngSeeLess($event)" *ngIf="CollapseUpCommingEvents">
                    <span class="span">SEE LESS</span>
                </p>
                <div class="navbar navbar-default event-menu" *ngIf="UpCommingEvents.length>0">
                        <ul class="nav navbar-nav">
                            <li class="active" (click)="getEventType('all',$event)"><a class="all" href="javascript:void(0)">ALL</a></li>
                            <li class="" (click)="getEventType(2,$event)"><a class="training" href="javascript:void(0)">TRAINING</a></li>
                            <li class="" (click)="getEventType(1,$event)"><a class="games" href="javascript:void(0)">GAMES</a></li>
                        </ul>
                </div>
                <div class="event-card select-events bg-gray cardBottom" *ngIf="monthArray.length<=0 && UpCommingEvents.length>0">
                    <div class="well select-card " >
                        <div class="row">
                            <div class="col-xs-12 ">
                                <h5 class="sub-title">No Event Present</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ExtraMonth" *ngFor="let key of monthArray;let y=index">

                    <div class="event-card select-events bg-gray"  *ngIf="y <=CardViewSeeMore">
                        <div *ngIf="y <=CardViewSeeMore">
                            <div class="event-black" >
                                <h5 class="v-center">{{key[key.length-2]}}</h5>
                            </div>

                            <div  *ngFor="let key1 of key; let i=index;" (click)="gotoEventDashboard(key1)">

                                    <div class="well select-card "  [class.active]="i==0" *ngIf="i<key.length-2">
                                        <div class="row">
                                            <div class="event-date col-xs-3 p-0">
                                                <div class="badge badge-blue">{{key1.weekday}} {{key1.day}}</div>
                                                <p>{{key1.time_started}}</p>
                                            </div>
                                            <div class="event-title col-xs-8 p-0">
                                                <h5>{{key1.event_name}}</h5>
                                                <p>{{key1.ground_name}}</p>
                                            </div>
                                            <div class="event-next col-xs-1 p-0">
                                                <a href="javascript:void(0)" class="next-arrow v-center"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="event-card select-events bg-gray multi-shadow" >
                        <div *ngIf="y <=CardViewSeeMore && key[key.length-1]!=''">
                            <div class="event-black" >
                                <h5 class="v-center">{{key[key.length-1]}}</h5>
                            </div>
                        </div>
                    </div>

                    <div class="section-more mb-50 clearfix" *ngIf="y <=CardViewSeeMore && key[key.length-1]!=''" (click)="CardSeeMore($event)">
                        <a href="javascript:void(0)" class="see-more pull-right">SEE MORE</a>
                    </div>
                    <div class="section-more clearfix mt-20" *ngIf="y <=CardViewSeeMore" (click)="CardSeeLess(y)" style="display:none">
                        <a href="javascript:void(0)"  class="see-more pull-right">SEE LESS</a>
                    </div>
                
            </div>
            </section>
        </form>
  </section>

</ion-content>
<!-- <content-drawer [options]="drawerOptions">
        <div class="content">
          The world is your oyster.
          <p>
            If you get lost, the <a href="http://ionicframework.com/docs/v2">docs</a> will be your guide.
          </p>
        </div>
    </content-drawer> -->
<!-- <ion-footer>
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="container-fluid">
            <ul class="nav navbar-nav">
                <li class="home" (click)="gotoHome()"><a href="javascript:void(0);">Home</a></li>
                <li class="events active"><a href="javascript:void(0);">Events</a></li>
                <li class="players" (click)="goToPlayersDashboard()"><a href="javascript:void(0);">Players</a></li>
                <li class="comment" (click)="goToChatDashboard()"><a href="javascript:void(0);">Comments</a></li>
                <li class="more" (click)="goToMenuPage()"><a href="javascript:void(0);">More</a></li>
            </ul>
        </div>
    </nav>
</ion-footer> -->
